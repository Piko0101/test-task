const modal=document.getElementsByClassName("modal")[0],signupBtn=document.getElementById("signupBtn"),closeBtn=document.getElementById("closeBtn");function openModal(){modal.style.display="block"}function closeModal(){modal.style.display="none"}function clickOutside(e){e.target===modal&&(modal.style.display="none")}signupBtn.addEventListener("click",openModal),closeBtn.addEventListener("click",closeModal),window.addEventListener("click",clickOutside);const subscriptionForm=document.getElementById("subscription-form"),emailInput=document.getElementById("email-input");function postEmailData(e){e.preventDefault();const t={email:document.getElementById("email-input").value};fetch("https://html-css-test-task.arkenstone.agency/feedback",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log("Success:",JSON.stringify(e)),"success"===e.status?(emailInput.style.backgroundColor="#c1d4c1",document.getElementById("successfull-message").innerHTML="Thank you! You have subscribed successfully"):(emailInput.style.border="red",emailInput.style.backgroundColor="#f78484",document.getElementById("successfull-message").innerHTML="**The email must be a valid email address.")})).catch((e=>console.error("Error:",e)))}subscriptionForm.addEventListener("submit",postEmailData);const signupForm=document.getElementById("signup-form"),signupSuccess=document.getElementById("success-container"),signupContainer=document.getElementById("signup-container");function postSignUpForm(e){e.preventDefault();const t={email:document.getElementById("email").value,phone:document.getElementById("phone").value,password:document.getElementById("password").value,password_confirmation:document.getElementById("password_confirmation").value};fetch("https://html-css-test-task.arkenstone.agency/registration",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log("Success:",JSON.stringify(e)),"success"===e.status?(signupContainer.style.display="none",signupSuccess.style.display="block"):verifyPassword()})).catch((e=>console.error("Error:",e))),console.log(t)}function verifyPassword(){const e=document.getElementById("password").value,t=document.getElementById("password_confirmation").value;return e.length<8?(document.getElementById("message").innerHTML="**Password length must be atleast 8 characters",!1):e==t||void(document.getElementById("confirm-message").innerHTML="**Passwords did not match")}signupForm.addEventListener("submit",postSignUpForm);